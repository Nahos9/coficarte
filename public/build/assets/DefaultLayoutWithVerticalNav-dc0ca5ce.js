import{_ as ie}from"./AppLoadingIndicator-d38a876b.js";import{L as Y,M as N,bd as E,r as A,be as ne,ai as re,bf as J,bg as q,q as Q,P as w,h as B,o as r,j as c,w as s,b as j,aK as M,a as p,u as e,bh as d,x as C,t as $,am as I,bc as b,n as V,c as L,F,S as H,aL as D,p as le,ak as oe,bi as U,bj as _,bk as se,bl as ce,bm as T,d as x,k as O,bn as X,bo as ue,bp as de,bq as ve,aa as pe,br as Z,bs as me,bt as fe,bu as ge,l as ee,A as G,bb as be}from"./main-6c5357b5.js";import he from"./Footer-ba5676b2.js";/* empty css                                                      */import ye from"./NavSearchBar-cdd41570.js";/* empty css                                                  */import Ne from"./NavbarThemeSwitcher-8d45e1b4.js";import Ve from"./UserProfile-dbb63a77.js";import{V as ke}from"./VMenu-64afd89b.js";import{V as Ce,a as Ie,b as Ae}from"./VList-d87f67dd.js";import{P as Se}from"./vue3-perfect-scrollbar.esm-1320c1f0.js";import{V as _e}from"./VNodeRenderer-6b8738b1.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";import{V as we}from"./VSpacer-3a0846c1.js";import"./index-593e39a4.js";import"./useApi-83881d3c.js";import"./VCardText-e8274b7b.js";import"./VAvatar-de22e4a2.js";import"./VImg-9d008c95.js";import"./VRow-8103f026.js";import"./VTooltip-96c5271d.js";import"./VOverlay-cd754bf3.js";import"./easing-9f15041e.js";import"./useAbility-0154d632.js";import"./VBadge-c1508194.js";import"./VDivider-7b29517b.js";import"./dialog-transition-7556fd62.js";const je=Y({name:"TransitionExpand",setup(t,{slots:a}){const l=i=>{const m=getComputedStyle(i).width;i.style.width=m,i.style.position="absolute",i.style.visibility="hidden",i.style.height="auto";const y=getComputedStyle(i).height;i.style.width="",i.style.position="",i.style.visibility="",i.style.height="0px",getComputedStyle(i).height,requestAnimationFrame(()=>{i.style.height=y})},f=i=>{i.style.height="auto"},n=i=>{const m=getComputedStyle(i).height;i.style.height=m,getComputedStyle(i).height,requestAnimationFrame(()=>{i.style.height="0px"})};return()=>N(N(E),{name:"expand",onEnter:l,onAfterEnter:f,onLeave:n},()=>{var i;return(i=a.default)==null?void 0:i.call(a)})}}),$e=te(je,[["__scopeId","data-v-2683bda9"]]),Le={class:"nav-header"},xe={__name:"VerticalNav",props:{tag:{type:[String,Object,Function],required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(t){const a=t,l=A(),f=ne(l);re(J,f);const n=q(),i=h=>"heading"in h?Me:"children"in h?Te:ae,m=Q();w(()=>m.name,()=>{a.toggleIsOverlayNavActive(!1)});const y=A(!1),g=h=>y.value=h,k=h=>{y.value=h.target.scrollTop>0},S=n.isVerticalNavMini(f);return(h,o)=>{const v=B("RouterLink");return r(),c(b(a.tag),{ref_key:"refNav",ref:l,class:D(["layout-vertical-nav",[{"overlay-nav":e(n).isLessThanOverlayNavBreakpoint,hovered:e(f),visible:t.isOverlayNavActive,scrolled:e(y)}]])},{default:s(()=>[j("div",Le,[M(h.$slots,"nav-header",{},()=>[p(v,{to:"/",class:"app-logo app-title-wrapper"},{default:s(()=>[p(e(_e),{nodes:e(d).app.logo},null,8,["nodes"]),p(E,{name:"vertical-nav-app-title"},{default:s(()=>[C(j("h1",{class:"app-logo-title leading-normal"},$(e(d).app.title),513),[[I,!e(S)]])]),_:1})]),_:1}),C((r(),c(b(e(d).app.iconRenderer||"div"),V({class:["header-action d-none nav-unpin",e(n).isVerticalNavCollapsed&&"d-lg-block"]},e(d).icons.verticalNavUnPinned,{onClick:o[0]||(o[0]=u=>e(n).isVerticalNavCollapsed=!e(n).isVerticalNavCollapsed)}),null,16,["class"])),[[I,e(n).isVerticalNavCollapsed]]),C((r(),c(b(e(d).app.iconRenderer||"div"),V({class:["header-action d-none nav-pin",!e(n).isVerticalNavCollapsed&&"d-lg-block"]},e(d).icons.verticalNavPinned,{onClick:o[1]||(o[1]=u=>e(n).isVerticalNavCollapsed=!e(n).isVerticalNavCollapsed)}),null,16,["class"])),[[I,!e(n).isVerticalNavCollapsed]]),(r(),c(b(e(d).app.iconRenderer||"div"),V({class:"header-action d-lg-none"},e(d).icons.close,{onClick:o[2]||(o[2]=u=>t.toggleIsOverlayNavActive(!1))}),null,16))],!0)]),M(h.$slots,"before-nav-items",{},()=>[o[3]||(o[3]=j("div",{class:"vertical-nav-items-shadow"},null,-1))],!0),M(h.$slots,"nav-items",{updateIsVerticalNavScrolled:g},()=>[(r(),c(e(Se),{key:e(n).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:k},{default:s(()=>[(r(!0),L(F,null,H(t.navItems,(u,P)=>(r(),c(b(i(u)),{key:P,item:u},null,8,["item"]))),128))]),_:1}))],!0)]),_:3},8,["class"])}}},Oe=te(xe,[["__scopeId","data-v-203d1712"]]),Re={class:"nav-group-children"},Te=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(t){const a=t,l=Q(),f=le(),n=q(),i=n.isVerticalNavMini(),m=oe(J,A(!1)),y=A(!1),g=A(!1),k=o=>o.some(v=>{let u=_.value.includes(v.title);return"children"in v&&(u=k(v.children)||u),u}),S=o=>{o.forEach(v=>{"children"in v&&S(v.children),_.value=_.value.filter(u=>u!==v.title)})};w(()=>l.path,()=>{const o=U(a.item.children,f);g.value=o&&!n.isVerticalNavMini(m).value,y.value=o},{immediate:!0}),w(g,o=>{const v=_.value.indexOf(a.item.title);o&&v===-1?_.value.push(a.item.title):!o&&v!==-1&&(_.value.splice(v,1),S(a.item.children))},{immediate:!0}),w(_,o=>{if(o.at(-1)===a.item.title)return;const u=U(a.item.children,f);u||k(a.item.children)||(g.value=u,y.value=u)},{deep:!0}),w(n.isVerticalNavMini(m),o=>{g.value=o?!1:y.value});const h=se();return(o,v)=>e(ce)(t.item)?(r(),L("li",{key:0,class:D(["nav-group",[{active:e(y),open:e(g),disabled:t.item.disable}]])},[j("div",{class:"nav-group-label",onClick:v[0]||(v[0]=u=>g.value=!e(g))},[(r(),c(b(e(d).app.iconRenderer||"div"),V(t.item.icon||e(d).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(r(),c(b(e(h)?X:"div"),V({name:"transition-slide-x"},e(h)?void 0:{class:"d-flex align-center flex-grow-1"}),{default:s(()=>[C((r(),c(b(e(d).app.i18n.enable?"i18n-t":"span"),V(e(T)(t.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:s(()=>[x($(t.item.title),1)]),_:1},16)),[[I,!e(i)]]),t.item.badgeContent?C((r(),c(b(e(d).app.i18n.enable?"i18n-t":"span"),V({key:0},e(T)(t.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",t.item.badgeClass]}),{default:s(()=>[x($(t.item.badgeContent),1)]),_:1},16,["class"])),[[I,!e(i)]]):O("",!0),C((r(),c(b(e(d).app.iconRenderer||"div"),V(e(d).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[I,!e(i)]])]),_:1},16))]),p(e($e),null,{default:s(()=>[C(j("ul",Re,[(r(!0),L(F,null,H(t.item.children,u=>(r(),c(b("children"in u?"VerticalNavGroup":e(ae)),{key:u.title,item:u},null,8,["item"]))),128))],512),[[I,e(g)]])]),_:1})],2)):O("",!0)}}),qe=Y({props:{navItems:{type:Array,required:!0},verticalNavAttrs:{type:Object,default:()=>({})}},setup(t,{slots:a}){const{width:l}=ue(),f=q(),n=A(!1),i=A(!1),m=de(n);return ve(n,i),w(l,()=>{!f.isLessThanOverlayNavBreakpoint&&i.value&&(i.value=!1)}),()=>{var W,z,K;const y=pe(t,"verticalNavAttrs"),{wrapper:g,wrapperProps:k,...S}=y.value,h=N(Oe,{isOverlayNavActive:n.value,toggleIsOverlayNavActive:m,navItems:t.navItems,...S},{"nav-header":()=>{var R;return(R=a["vertical-nav-header"])==null?void 0:R.call(a)},"before-nav-items":()=>{var R;return(R=a["before-vertical-nav-items"])==null?void 0:R.call(a)}}),o=N("header",{class:["layout-navbar",{"navbar-blur":f.isNavbarBlurEnabled}]},[N("div",{class:"navbar-content-container"},(W=a.navbar)==null?void 0:W.call(a,{toggleVerticalOverlayNavActive:m}))]),v=N("main",{class:"layout-page-content"},N("div",{class:"page-content-container"},(z=a.default)==null?void 0:z.call(a))),u=N("footer",{class:"layout-footer"},[N("div",{class:"footer-content-container"},(K=a.footer)==null?void 0:K.call(a))]),P=N("div",{class:["layout-overlay",{visible:i.value}],onClick:()=>{i.value=!i.value}});return N("div",{class:["layout-wrapper",...f._layoutClasses]},[g?N(g,k,{default:()=>h}):h,N("div",{class:"layout-content-wrapper"},[o,v,u]),P])}}}),ae={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(t){const l=q().isVerticalNavMini();return(f,n)=>e(Z)(t.item.action,t.item.subject)?(r(),L("li",{key:0,class:D(["nav-link",{disabled:t.item.disable}])},[(r(),c(b(t.item.to?"RouterLink":"a"),V(e(fe)(t.item),{class:{"router-link-active router-link-exact-active":e(me)(t.item,f.$router)}}),{default:s(()=>[(r(),c(b(e(d).app.iconRenderer||"div"),V(t.item.icon||e(d).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),p(X,{name:"transition-slide-x"},{default:s(()=>[C((r(),c(b(e(d).app.i18n.enable?"i18n-t":"span"),V({key:"title",class:"nav-item-title"},e(T)(t.item.title,"span")),{default:s(()=>[x($(t.item.title),1)]),_:1},16)),[[I,!e(l)]]),t.item.badgeContent?C((r(),c(b(e(d).app.i18n.enable?"i18n-t":"span"),V({key:"badge",class:["nav-item-badge",t.item.badgeClass]},e(T)(t.item.badgeContent,"span")),{default:s(()=>[x($(t.item.badgeContent),1)]),_:1},16,["class"])),[[I,!e(l)]]):O("",!0)]),_:1})]),_:1},16,["class"]))],2)):O("",!0)}},Be={key:0,class:"nav-section-title"},Pe={class:"title-wrapper"},Me={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(t){const l=q().isVerticalNavMini();return(f,n)=>e(Z)(t.item.action,t.item.subject)?(r(),L("li",Be,[j("div",Pe,[p(E,{name:"vertical-nav-section-title",mode:"out-in"},{default:s(()=>[(r(),c(b(e(l)?e(d).app.iconRenderer:e(d).app.i18n.enable?"i18n-t":"span"),V({key:e(l),class:e(l)?"placeholder-icon":"title-text"},{...e(d).icons.sectionTitlePlaceholder,...e(T)(t.item.heading,"span")}),{default:s(()=>[x($(e(l)?null:t.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):O("",!0)}},Ge=[{icon:{icon:"tabler-dashboard"},title:"Tableau de bord",subject:"dashboard",action:"read",to:"dashboard"},{icon:{icon:"tabler-credit-card"},title:"Cartes",subject:"credit-card",action:"read",children:[{title:"Ajouter",to:"credit-card-add",action:"create",subject:"credit-card"},{title:"Modifier prix",to:"credit-card-update-price",action:"update-price",subject:"credit-card"},{title:"En Stock",to:"credit-card",action:"read",subject:"credit-card"},{title:"Vendus",to:"credit-card-historical",action:"historical",subject:"credit-card"}]},{icon:{icon:"tabler-transfer"},title:"Transferts",subject:"transfer",action:"read",children:[{title:"Nouveau",to:"transfer-add",action:"create",subject:"transfer"},{title:"En attente",to:"transfer",action:"read",subject:"transfer"},{title:"Historique",to:"transfer-historical",action:"historical",subject:"transfer"}]},{icon:{icon:"tabler-coin"},title:"Ventes",subject:"sale",action:"read",children:[{title:"Nouveau",to:"sale-add",action:"create",subject:"sale"},{title:"Historique",to:"sale",action:"read",subject:"sale"}]},{icon:{icon:"tabler-user"},title:"Utilisateurs",subject:"user",action:"read",children:[{title:"Nouveau",to:"user-add",action:"create",subject:"user"},{title:"Historique",to:"user",action:"read",subject:"user"}]}],Ee=[...Ge],Fe={__name:"I18n",props:{languages:{type:Array,required:!0},location:{type:null,required:!1,default:"bottom end"}},setup(t){const a=t,{locale:l}=ge({useScope:"global"});return(f,n)=>{const i=B("IconBtn");return r(),c(i,null,{default:s(()=>[p(ee,{size:"26",icon:"tabler-language"}),p(ke,{activator:"parent",location:a.location,offset:"14px"},{default:s(()=>[p(Ce,{selected:[e(l)],color:"primary","min-width":"175px"},{default:s(()=>[(r(!0),L(F,null,H(a.languages,m=>(r(),c(Ie,{key:m.i18nLang,value:m.i18nLang,onClick:y=>l.value=m.i18nLang},{default:s(()=>[p(Ae,null,{default:s(()=>[x($(m.label),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["selected"])]),_:1},8,["location"])]),_:1})}}},He={class:"d-flex h-100 align-center"},bt={__name:"DefaultLayoutWithVerticalNav",setup(t){const a=A(!1),l=A(null);return w([a,l],()=>{a.value&&l.value&&l.value.fallbackHandle(),!a.value&&l.value&&l.value.resolveHandle()},{immediate:!0}),(f,n)=>{const i=B("IconBtn"),m=ie,y=B("RouterView");return r(),c(e(qe),{"nav-items":e(Ee)},{navbar:s(({toggleVerticalOverlayNavActive:g})=>{var k;return[j("div",He,[p(i,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:S=>g(!0)},{default:s(()=>[p(ee,{size:"26",icon:"tabler-menu-2"})]),_:2},1032,["onClick"]),p(ye,{class:"ms-lg-n3"}),p(we),e(G).app.i18n.enable&&((k=e(G).app.i18n.langConfig)!=null&&k.length)?(r(),c(Fe,{key:0,languages:e(G).app.i18n.langConfig},null,8,["languages"])):O("",!0),p(Ne),p(Ve)])]}),footer:s(()=>[p(he)]),default:s(()=>[p(m,{ref_key:"refLoadingIndicator",ref:l},null,512),p(y,null,{default:s(({Component:g})=>[(r(),c(be,{timeout:0,onFallback:n[0]||(n[0]=k=>a.value=!0),onResolve:n[1]||(n[1]=k=>a.value=!1)},{default:s(()=>[(r(),c(b(g)))]),_:2},1024))]),_:1})]),_:1},8,["nav-items"])}}};export{bt as default};

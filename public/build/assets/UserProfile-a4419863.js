import{P as I}from"./vue3-perfect-scrollbar.esm-d0986582.js";import{n as P,e as u,u as t,o as s,i as l,w as a,a as o,k as c,d as n,t as i,c as f,F as m,S as h,aJ as C,m as L,j as x}from"./main-3eb6731a.js";import{u as w}from"./useAbility-79233536.js";import{V as p}from"./VAvatar-8846bf8d.js";import{V as y}from"./VImg-8fdb0ff7.js";import{V as S}from"./VMenu-f3121a3f.js";import{V as A,a as _,b as v,d as k}from"./VList-4360c9bf.js";import{a as B,V as d}from"./VBadge-14964460.js";import{V as D}from"./VDivider-55349d32.js";import"./VOverlay-638013f1.js";import"./dialog-transition-68f38141.js";const Q={__name:"UserProfile",setup(N){const V=P(),b=w(),e=u("userData"),g=[{type:"divider"},{type:"navItem",icon:"tabler-settings",title:"ParamÃ¨tres",to:{name:"settings-user-tab",params:{tab:"account"}}},{type:"divider"},{type:"navItem",icon:"tabler-logout",title:"Logout",onClick:async()=>{u("userToken").value=null,e.value=null,await V.push("/login"),u("userAbilityRules").value=null,b.update([])}}];return(F,R)=>t(e)?(s(),l(d,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[o(p,{class:"cursor-pointer",color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(s(),l(y,{key:0,src:t(e).avatar},null,8,["src"])):(s(),l(c,{key:1,icon:"tabler-user"})),o(S,{activator:"parent",width:"280",location:"bottom end",offset:"14px"},{default:a(()=>[o(A,null,{default:a(()=>[o(_,null,{prepend:a(()=>[o(B,{start:""},{default:a(()=>[o(d,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(p,{color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(s(),l(y,{key:0,src:t(e).avatar},null,8,["src"])):(s(),l(c,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:a(()=>[o(v,{class:"font-weight-medium"},{default:a(()=>[n(i(t(e).fullName||t(e).username),1)]),_:1}),o(k,null,{default:a(()=>[n(i(t(e).role_fr),1)]),_:1}),o(k,null,{default:a(()=>[n(i(t(e).agency_name??"-"),1)]),_:1})]),_:1}),o(t(I),{options:{wheelPropagation:!1}},{default:a(()=>[(s(),f(m,null,h(g,r=>(s(),f(m,{key:r.title},[r.type==="navItem"?(s(),l(_,{key:0,to:r.to,onClick:$=>r.onClick&&r.onClick()},C({prepend:a(()=>[o(c,{class:"me-2",icon:r.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(v,null,{default:a(()=>[n(i(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:a(()=>[o(d,L({ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to","onClick"])):(s(),l(D,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):x("",!0)}};export{Q as default};

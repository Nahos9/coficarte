import{b as Be,g as Le}from"./VInput-1661bdca.js";import{m as Oe,a as ge}from"./VTextField-2fd207a8.js";import{D as X,X as Ve,ar as il,Y as ke,a7 as cl,af as rl,G as ie,H as le,I as Ke,g as y,ai as sl,aN as Ee,ab as dl,aa as G,J as ce,a as r,aO as vl,W as Y,r as q,K as fl,n as W,x as ml,v as hl,F as Z,l as ve,ak as yl,a8 as gl,aq as de,U as Ue,a9 as Vl,aP as fe,y as pe,E as Ie,a2 as $e,P as oe,an as He,a0 as bl,ap as kl,a6 as Pe,aQ as Cl,ay as Sl,aR as pl,aS as Il,z as xl,ac as ye,ah as Ne,a3 as ze,aT as je,d as Ge,u as ue,ax as wl,aU as Pl,N as Fe,o as _e,c as Fl,j as _l,k as Al,aJ as Tl,S as Dl,w as Ml,aK as Rl,Q as Ae,R as Te,aL as Bl}from"./main-6c5357b5.js";import{g as Ll,f as qe}from"./VOverlay-cd754bf3.js";import{m as Ol,c as We,V as Qe,a as be}from"./VList-d87f67dd.js";import{m as Je}from"./VImg-9d008c95.js";import{V as Kl}from"./dialog-transition-7556fd62.js";import{V as Ye}from"./VMenu-64afd89b.js";import{V as Xe}from"./VChip-383f7682.js";const Ze=Symbol.for("vuetify:selection-control-group"),el=X({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ve,trueIcon:Ve,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:il},...ke(),...cl(),...rl()},"SelectionControlGroup"),El=X({...el({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ie()({name:"VSelectionControlGroup",props:El(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:l}=c;const n=le(e,"modelValue"),i=Ke(),d=y(()=>e.id||`v-selection-control-group-${i}`),s=y(()=>e.name||d.value),u=new Set;return sl(Ze,{modelValue:n,forceUpdate:()=>{u.forEach(a=>a())},onForceUpdate:a=>{u.add(a),Ee(()=>{u.delete(a)})}}),dl({[e.defaultsTarget]:{color:G(e,"color"),disabled:G(e,"disabled"),density:G(e,"density"),error:G(e,"error"),inline:G(e,"inline"),modelValue:n,multiple:y(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:s,falseIcon:G(e,"falseIcon"),trueIcon:G(e,"trueIcon"),readonly:G(e,"readonly"),ripple:G(e,"ripple"),type:G(e,"type"),valueComparator:G(e,"valueComparator")}}),ce(()=>{var a;return r("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(a=l.default)==null?void 0:a.call(l)])}),{}}});const ll=X({label:String,trueValue:null,falseValue:null,value:null,...ke(),...el()},"VSelectionControl");function Ul(e){const c=yl(Ze,void 0),{densityClasses:l}=gl(e),n=le(e,"modelValue"),i=y(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),d=y(()=>e.falseValue!==void 0?e.falseValue:!1),s=y(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),u=y({get(){const v=c?c.modelValue.value:n.value;return s.value?v.some(k=>e.valueComparator(k,i.value)):e.valueComparator(v,i.value)},set(v){if(e.readonly)return;const k=v?i.value:d.value;let V=k;s.value&&(V=v?[...de(n.value),k]:de(n.value).filter(M=>!e.valueComparator(M,i.value))),c?c.modelValue.value=V:n.value=V}}),{textColorClasses:a,textColorStyles:g}=Ue(y(()=>u.value&&!e.error&&!e.disabled?e.color:void 0)),{backgroundColorClasses:p,backgroundColorStyles:m}=Vl(y(()=>u.value&&!e.error&&!e.disabled?e.color:void 0)),t=y(()=>u.value?e.trueIcon:e.falseIcon);return{group:c,densityClasses:l,trueValue:i,falseValue:d,model:u,textColorClasses:a,textColorStyles:g,backgroundColorClasses:p,backgroundColorStyles:m,icon:t}}const De=ie()({name:"VSelectionControl",directives:{Ripple:vl},inheritAttrs:!1,props:ll(),emits:{"update:modelValue":e=>!0},setup(e,c){let{attrs:l,slots:n}=c;const{group:i,densityClasses:d,icon:s,model:u,textColorClasses:a,textColorStyles:g,backgroundColorClasses:p,backgroundColorStyles:m,trueValue:t}=Ul(e),v=Ke(),k=y(()=>e.id||`input-${v}`),V=Y(!1),M=Y(!1),A=q();i==null||i.onForceUpdate(()=>{A.value&&(A.value.checked=u.value)});function H(h){V.value=!0,fe(h.target,":focus-visible")!==!1&&(M.value=!0)}function B(){V.value=!1,M.value=!1}function F(h){e.readonly&&i&&pe(()=>i.forceUpdate()),u.value=h.target.checked}return ce(()=>{var x,U;const h=n.label?n.label({label:e.label,props:{for:k.value}}):e.label,[N,I]=fl(l),w=r("input",W({ref:A,checked:u.value,disabled:!!(e.readonly||e.disabled),id:k.value,onBlur:B,onFocus:H,onInput:F,"aria-disabled":!!(e.readonly||e.disabled),type:e.type,value:t.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},I),null);return r("div",W({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":V.value,"v-selection-control--focus-visible":M.value,"v-selection-control--inline":e.inline},d.value,e.class]},N,{style:e.style}),[r("div",{class:["v-selection-control__wrapper",a.value],style:g.value},[(x=n.default)==null?void 0:x.call(n,{backgroundColorClasses:p,backgroundColorStyles:m}),ml(r("div",{class:["v-selection-control__input"]},[((U=n.input)==null?void 0:U.call(n,{model:u,textColorClasses:a,textColorStyles:g,backgroundColorClasses:p,backgroundColorStyles:m,inputNode:w,icon:s.value,props:{onFocus:H,onBlur:B,id:k.value}}))??r(Z,null,[s.value&&r(ve,{key:"icon",icon:s.value},null),w])]),[[hl("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),h&&r(Be,{for:k.value,clickable:!0,onClick:O=>O.stopPropagation()},{default:()=>[h]})])}),{isFocused:V,input:A}}}),$l=X({indeterminate:Boolean,indeterminateIcon:{type:Ve,default:"$checkboxIndeterminate"},...ll({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),tl=ie()({name:"VCheckboxBtn",props:$l(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,c){let{slots:l}=c;const n=le(e,"indeterminate"),i=le(e,"modelValue");function d(a){n.value&&(n.value=!1)}const s=y(()=>n.value?e.indeterminateIcon:e.falseIcon),u=y(()=>n.value?e.indeterminateIcon:e.trueIcon);return ce(()=>{const a=Ie(De.filterProps(e)[0],["modelValue"]);return r(De,W(a,{modelValue:i.value,"onUpdate:modelValue":[g=>i.value=g,d],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:s.value,trueIcon:u.value,"aria-checked":n.value?"mixed":void 0}),l)}),{}}});const Hl=X({renderless:Boolean,...ke()},"VVirtualScrollItem"),Nl=ie()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Hl(),emits:{"update:height":e=>!0},setup(e,c){let{attrs:l,emit:n,slots:i}=c;const{resizeRef:d,contentRect:s}=$e(void 0,"border");oe(()=>{var u;return(u=s.value)==null?void 0:u.height},u=>{u!=null&&n("update:height",u)}),ce(()=>{var u,a;return e.renderless?r(Z,null,[(u=i.default)==null?void 0:u.call(i,{itemRef:d})]):r("div",W({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(a=i.default)==null?void 0:a.call(i)])})}}),Me=-1,Re=1,zl=X({itemHeight:{type:[Number,String],default:48}},"virtual");function jl(e,c,l){const n=Y(0),i=Y(e.itemHeight),d=y({get:()=>parseInt(i.value??0,10),set(I){i.value=I}}),s=q(),{resizeRef:u,contentRect:a}=$e();He(()=>{u.value=s.value});const g=bl(),p=new Map;let m=Array.from({length:c.value.length});const t=y(()=>{const I=(!a.value||s.value===document.documentElement?g.height.value:a.value.height)-((l==null?void 0:l.value)??0);return Math.ceil(I/d.value*1.7+1)});function v(I,w){d.value=Math.max(d.value,w),m[I]=w,p.set(c.value[I],w)}function k(I){return m.slice(0,I).reduce((w,x)=>w+(x||d.value),0)}function V(I){const w=c.value.length;let x=0,U=0;for(;U<I&&x<w;)U+=m[x++]||d.value;return x-1}let M=0;function A(){if(!s.value||!a.value)return;const I=a.value.height-56,w=s.value.scrollTop,x=w<M?Me:Re,U=V(w+I/2),O=Math.round(t.value/3),te=U-O,ae=n.value+O*2-1;x===Me&&U<=ae?n.value=Pe(te,0,c.value.length):x===Re&&U>=ae&&(n.value=Pe(te,0,c.value.length-t.value)),M=w}function H(I){if(!s.value)return;const w=k(I);s.value.scrollTop=w}const B=y(()=>Math.min(c.value.length,n.value+t.value)),F=y(()=>c.value.slice(n.value,B.value).map((I,w)=>({raw:I,index:w+n.value}))),h=y(()=>k(n.value)),N=y(()=>k(c.value.length)-k(B.value));return oe(()=>c.value.length,()=>{m=kl(c.value.length).map(()=>d.value),p.forEach((I,w)=>{const x=c.value.indexOf(w);x===-1?p.delete(w):m[x]=I})}),{containerRef:s,computedItems:F,itemHeight:d,paddingTop:h,paddingBottom:N,scrollToIndex:H,handleScroll:A,handleItemResize:v}}const Gl=X({items:{type:Array,default:()=>[]},renderless:Boolean,...zl(),...ke(),...Cl()},"VVirtualScroll"),al=ie()({name:"VVirtualScroll",props:Gl(),setup(e,c){let{slots:l}=c;const n=Sl("VVirtualScroll"),{dimensionStyles:i}=pl(e),{containerRef:d,handleScroll:s,handleItemResize:u,scrollToIndex:a,paddingTop:g,paddingBottom:p,computedItems:m}=jl(e,G(e,"items"));return Il(()=>e.renderless,()=>{xl(()=>{var t;d.value=Ll(n.vnode.el,!0),(t=d.value)==null||t.addEventListener("scroll",s)}),Ee(()=>{var t;(t=d.value)==null||t.removeEventListener("scroll",s)})}),ce(()=>{const t=m.value.map(v=>r(Nl,{key:v.index,renderless:e.renderless,"onUpdate:height":k=>u(v.index,k)},{default:k=>{var V;return(V=l.default)==null?void 0:V.call(l,{item:v.raw,index:v.index,...k})}}));return e.renderless?r(Z,null,[r("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ye(g.value)}},null),t,r("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ye(p.value)}},null)]):r("div",{ref:d,class:["v-virtual-scroll",e.class],onScroll:s,style:[i.value,e.style]},[r("div",{class:"v-virtual-scroll__container",style:{paddingTop:ye(g.value),paddingBottom:ye(p.value)}},[t])])}),{scrollToIndex:a}}});function nl(e,c){const l=Y(!1);let n;function i(u){cancelAnimationFrame(n),l.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{l.value=!1})})}async function d(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(l.value){const a=oe(l,()=>{a(),u()})}else u()})}async function s(u){var p,m;if(u.key==="Tab"&&((p=c.value)==null||p.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const a=(m=e.value)==null?void 0:m.$el;if(!a)return;(u.key==="Home"||u.key==="End")&&a.scrollTo({top:u.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await d();const g=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const t=a.getBoundingClientRect().top;for(const v of g)if(v.getBoundingClientRect().top>=t){v.focus();break}}else{const t=a.getBoundingClientRect().bottom;for(const v of[...g].reverse())if(v.getBoundingClientRect().bottom<=t){v.focus();break}}}return{onListScroll:i,onListKeydown:s}}const ul=X({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Ol({itemChildren:!1})},"Select"),ql=X({...ul(),...Ie(Oe({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...Je({transition:{component:Kl}})},"VSelect"),st=ie()({name:"VSelect",props:ql(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:l}=c;const{t:n}=Ne(),i=q(),d=q(),s=q(),u=le(e,"menu"),a=y({get:()=>u.value,set:f=>{var C;u.value&&!f&&((C=d.value)!=null&&C.ΨopenChildren)||(u.value=f)}}),{items:g,transformIn:p,transformOut:m}=We(e),t=le(e,"modelValue",[],f=>p(f===null?[null]:de(f)),f=>{const C=m(f);return e.multiple?C:C[0]??null}),v=Le(),k=y(()=>t.value.map(f=>f.value)),V=Y(!1),M=y(()=>a.value?e.closeText:e.openText);let A="",H;const B=y(()=>e.hideSelected?g.value.filter(f=>!t.value.some(C=>C===f)):g.value),F=y(()=>e.hideNoData&&!g.value.length||e.readonly||(v==null?void 0:v.isReadonly.value)),h=q(),{onListScroll:N,onListKeydown:I}=nl(h,i);function w(f){e.openOnClear&&(a.value=!0)}function x(){F.value||(a.value=!a.value)}function U(f){var S,K;if(!f.key||e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(f.key)&&f.preventDefault(),["Enter","ArrowDown"," "].includes(f.key)&&(a.value=!0),["Escape","Tab"].includes(f.key)&&(a.value=!1),f.key==="Home"?(S=h.value)==null||S.focus("first"):f.key==="End"&&((K=h.value)==null||K.focus("last"));const C=1e3;function L(T){const Q=T.key.length===1,$=!T.ctrlKey&&!T.metaKey&&!T.altKey;return Q&&$}if(e.multiple||!L(f))return;const re=performance.now();re-H>C&&(A=""),A+=f.key.toLowerCase(),H=re;const se=g.value.find(T=>T.title.toLowerCase().startsWith(A));se!==void 0&&(t.value=[se])}function O(f){if(e.multiple){const C=t.value.findIndex(L=>e.valueComparator(L.value,f.value));if(C===-1)t.value=[...t.value,f];else{const L=[...t.value];L.splice(C,1),t.value=L}}else t.value=[f],a.value=!1}function te(f){var C;(C=h.value)!=null&&C.$el.contains(f.relatedTarget)||(a.value=!1)}function ae(){var f;V.value&&((f=i.value)==null||f.focus())}function Ce(f){V.value=!0}function Se(f){if(f==null)t.value=[];else if(fe(i.value,":autofill")||fe(i.value,":-webkit-autofill")){const C=g.value.find(L=>L.title===f);C&&O(C)}else i.value&&(i.value.value="")}return oe(a,()=>{if(!e.hideSelected&&a.value&&t.value.length){const f=B.value.findIndex(C=>t.value.some(L=>e.valueComparator(L.value,C.value)));ze&&window.requestAnimationFrame(()=>{var C;f>=0&&((C=s.value)==null||C.scrollToIndex(f))})}}),ce(()=>{const f=!!(e.chips||l.chip),C=!!(!e.hideNoData||B.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),L=t.value.length>0,[re]=ge.filterProps(e),se=L||!V.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return r(ge,W({ref:i},re,{modelValue:t.value.map(S=>S.props.value).join(", "),"onUpdate:modelValue":Se,focused:V.value,"onUpdate:focused":S=>V.value=S,validationValue:t.externalValue,counterValue:t.value.length,dirty:L,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":t.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:se,"onClick:clear":w,"onMousedown:control":x,onBlur:te,onKeydown:U,"aria-label":n(M.value),title:n(M.value)}),{...l,default:()=>r(Z,null,[r(Ye,W({ref:d,modelValue:a.value,"onUpdate:modelValue":S=>a.value=S,activator:"parent",contentClass:"v-select__content",disabled:F.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:ae},e.menuProps),{default:()=>[C&&r(Qe,{ref:h,selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:S=>S.preventDefault(),onKeydown:I,onFocusin:Ce,onScrollPassive:N,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var S,K,T;return[(S=l["prepend-item"])==null?void 0:S.call(l),!B.value.length&&!e.hideNoData&&(((K=l["no-data"])==null?void 0:K.call(l))??r(be,{title:n(e.noDataText)},null)),r(al,{ref:s,renderless:!0,items:B.value},{default:Q=>{var b;let{item:$,index:R,itemRef:ee}=Q;const o=W($.props,{ref:ee,key:R,onClick:()=>O($)});return((b=l.item)==null?void 0:b.call(l,{item:$,index:R,props:o}))??r(be,o,{prepend:_=>{let{isSelected:ne}=_;return r(Z,null,[e.multiple&&!e.hideSelected?r(tl,{key:$.value,modelValue:ne,ripple:!1,tabindex:"-1"},null):void 0,$.props.prependIcon&&r(ve,{icon:$.props.prependIcon},null)])}})}}),(T=l["append-item"])==null?void 0:T.call(l)]}})]}),t.value.map((S,K)=>{var $;function T(R){R.stopPropagation(),R.preventDefault(),O(S)}const Q={"onClick:close":T,onMousedown(R){R.preventDefault(),R.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return r("div",{key:S.value,class:"v-select__selection"},[f?l.chip?r(je,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:S.title}}},{default:()=>{var R;return[(R=l.chip)==null?void 0:R.call(l,{item:S,index:K,props:Q})]}}):r(Xe,W({key:"chip",closable:e.closableChips,size:"small",text:S.title,disabled:S.props.disabled},Q),null):(($=l.selection)==null?void 0:$.call(l,{item:S,index:K}))??r("span",{class:"v-select__selection-text"},[S.title,e.multiple&&K<t.value.length-1&&r("span",{class:"v-select__selection-comma"},[Ge(",")])])])})]),"append-inner":function(){var Q;for(var S=arguments.length,K=new Array(S),T=0;T<S;T++)K[T]=arguments[T];return r(Z,null,[(Q=l["append-inner"])==null?void 0:Q.call(l,...K),e.menuIcon?r(ve,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),qe({isFocused:V,menu:a,select:O},i)}}),Wl=(e,c,l)=>e==null||c==null?-1:e.toString().toLocaleLowerCase().indexOf(c.toString().toLocaleLowerCase()),Ql=X({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Jl(e,c,l){var u;const n=[],i=(l==null?void 0:l.default)??Wl,d=l!=null&&l.filterKeys?de(l.filterKeys):!1,s=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let a=0;a<e.length;a++){const[g,p=g]=de(e[a]),m={},t={};let v=-1;if(c&&!(l!=null&&l.noFilter)){if(typeof g=="object"){const M=d||Object.keys(p);for(const A of M){const H=wl(p,A,p),B=(u=l==null?void 0:l.customKeyFilter)==null?void 0:u[A];if(v=B?B(H,c,g):i(H,c,g),v!==-1&&v!==!1)B?m[A]=v:t[A]=v;else if((l==null?void 0:l.filterMode)==="every")continue e}}else v=i(g,c,g),v!==-1&&v!==!1&&(t.title=v);const k=Object.keys(t).length,V=Object.keys(m).length;if(!k&&!V||(l==null?void 0:l.filterMode)==="union"&&V!==s&&!k||(l==null?void 0:l.filterMode)==="intersection"&&(V!==s||!k))continue}n.push({index:a,matches:{...t,...m}})}return n}function Yl(e,c,l,n){const i=q([]),d=q(new Map),s=y(()=>n!=null&&n.transform?ue(c).map(a=>[a,n.transform(a)]):ue(c));He(()=>{const a=typeof l=="function"?l():ue(l),g=typeof a!="string"&&typeof a!="number"?"":String(a),p=Jl(s.value,g,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=ue(c),t=[],v=new Map;p.forEach(k=>{let{index:V,matches:M}=k;const A=m[V];t.push(A),v.set(A.value,M)}),i.value=t,d.value=v});function u(a){return d.value.get(a.value)}return{filteredItems:i,filteredMatches:d,getMatches:u}}function Xl(e,c,l){if(c==null)return e;if(Array.isArray(c))throw new Error("Multiple matches is not implemented");return typeof c=="number"&&~c?r(Z,null,[r("span",{class:"v-autocomplete__unmask"},[e.substr(0,c)]),r("span",{class:"v-autocomplete__mask"},[e.substr(c,l)]),r("span",{class:"v-autocomplete__unmask"},[e.substr(c+l)])]):e}const Zl=X({autoSelectFirst:{type:[Boolean,String]},search:String,...Ql({filterKeys:["title"]}),...ul(),...Ie(Oe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Je({transition:!1})},"VAutocomplete"),et=ie()({name:"VAutocomplete",props:Zl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:l}=c;const{t:n}=Ne(),i=q(),d=Y(!1),s=Y(!0),u=Y(!1),a=q(),g=q(),p=le(e,"menu"),m=y({get:()=>p.value,set:o=>{var b;p.value&&!o&&((b=a.value)!=null&&b.ΨopenChildren)||(p.value=o)}}),t=Y(-1),v=y(()=>{var o;return(o=i.value)==null?void 0:o.color}),k=y(()=>m.value?e.closeText:e.openText),{items:V,transformIn:M,transformOut:A}=We(e),{textColorClasses:H,textColorStyles:B}=Ue(v),F=le(e,"search",""),h=le(e,"modelValue",[],o=>M(o===null?[null]:de(o)),o=>{const b=A(o);return e.multiple?b:b[0]??null}),N=Le(),{filteredItems:I,getMatches:w}=Yl(e,V,()=>s.value?"":F.value),x=y(()=>e.hideSelected?I.value.filter(o=>!h.value.some(b=>b.value===o.value)):I.value),U=y(()=>h.value.map(o=>o.props.value)),O=y(()=>{var b;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&F.value===((b=x.value[0])==null?void 0:b.title))&&x.value.length>0&&!s.value&&!u.value}),te=y(()=>e.hideNoData&&!V.value.length||e.readonly||(N==null?void 0:N.isReadonly.value)),ae=q(),{onListScroll:Ce,onListKeydown:Se}=nl(ae,i);function f(o){e.openOnClear&&(m.value=!0),F.value=""}function C(){te.value||(m.value=!0)}function L(o){te.value||(d.value&&(o.preventDefault(),o.stopPropagation()),m.value=!m.value)}function re(o){var ne,P,E;if(e.readonly||N!=null&&N.isReadonly.value)return;const b=i.value.selectionStart,_=h.value.length;if((t.value>-1||["Enter","ArrowDown","ArrowUp"].includes(o.key))&&o.preventDefault(),["Enter","ArrowDown"].includes(o.key)&&(m.value=!0),["Escape"].includes(o.key)&&(m.value=!1),O.value&&["Enter","Tab"].includes(o.key)&&ee(x.value[0]),o.key==="ArrowDown"&&O.value&&((ne=ae.value)==null||ne.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(o.key)){if(t.value<0){o.key==="Backspace"&&!F.value&&(t.value=_-1);return}const D=t.value,J=h.value[t.value];J&&!J.props.disabled&&ee(J),t.value=D>=_-1?_-2:D}if(o.key==="ArrowLeft"){if(t.value<0&&b>0)return;const D=t.value>-1?t.value-1:_-1;h.value[D]?t.value=D:(t.value=-1,i.value.setSelectionRange((P=F.value)==null?void 0:P.length,(E=F.value)==null?void 0:E.length))}if(o.key==="ArrowRight"){if(t.value<0)return;const D=t.value+1;h.value[D]?t.value=D:(t.value=-1,i.value.setSelectionRange(0,0))}}}function se(o){F.value=o.target.value}function S(o){if(fe(i.value,":autofill")||fe(i.value,":-webkit-autofill")){const b=V.value.find(_=>_.title===o.target.value);b&&ee(b)}}function K(){var o;d.value&&(s.value=!0,(o=i.value)==null||o.focus())}function T(o){d.value=!0,setTimeout(()=>{u.value=!0})}function Q(o){u.value=!1}function $(o){(o==null||o===""&&!e.multiple)&&(h.value=[])}const R=Y(!1);function ee(o){if(e.multiple){const b=h.value.findIndex(_=>e.valueComparator(_.value,o.value));if(b===-1)h.value=[...h.value,o];else{const _=[...h.value];_.splice(b,1),h.value=_}}else h.value=[o],R.value=!0,F.value=o.title,m.value=!1,s.value=!0,pe(()=>R.value=!1)}return oe(d,(o,b)=>{var _;o!==b&&(o?(R.value=!0,F.value=e.multiple?"":String(((_=h.value.at(-1))==null?void 0:_.props.title)??""),s.value=!0,pe(()=>R.value=!1)):(!e.multiple&&!F.value?h.value=[]:O.value&&!u.value&&!h.value.some(ne=>{let{value:P}=ne;return P===x.value[0].value})&&ee(x.value[0]),m.value=!1,F.value="",t.value=-1))}),oe(F,o=>{!d.value||R.value||(o&&(m.value=!0),s.value=!o)}),oe(m,()=>{if(!e.hideSelected&&m.value&&h.value.length){const o=x.value.findIndex(b=>h.value.some(_=>b.value===_.value));ze&&window.requestAnimationFrame(()=>{var b;o>=0&&((b=g.value)==null||b.scrollToIndex(o))})}}),ce(()=>{const o=!!(e.chips||l.chip),b=!!(!e.hideNoData||x.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),_=h.value.length>0,[ne]=ge.filterProps(e);return r(ge,W({ref:i},ne,{modelValue:F.value,"onUpdate:modelValue":$,focused:d.value,"onUpdate:focused":P=>d.value=P,validationValue:h.externalValue,counterValue:h.value.length,dirty:_,onInput:se,onChange:S,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":m.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!l.selection,"v-autocomplete--selecting-index":t.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:_?void 0:e.placeholder,"onClick:clear":f,"onMousedown:control":C,onKeydown:re}),{...l,default:()=>r(Z,null,[r(Ye,W({ref:a,modelValue:m.value,"onUpdate:modelValue":P=>m.value=P,activator:"parent",contentClass:"v-autocomplete__content",disabled:te.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:K},e.menuProps),{default:()=>[b&&r(Qe,{ref:ae,selected:U.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:P=>P.preventDefault(),onKeydown:Se,onFocusin:T,onFocusout:Q,onScrollPassive:Ce,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var P,E,D;return[(P=l["prepend-item"])==null?void 0:P.call(l),!x.value.length&&!e.hideNoData&&(((E=l["no-data"])==null?void 0:E.call(l))??r(be,{title:n(e.noDataText)},null)),r(al,{ref:g,renderless:!0,items:x.value},{default:J=>{var we;let{item:z,index:j,itemRef:ol}=J;const xe=W(z.props,{ref:ol,key:j,active:O.value&&j===0?!0:void 0,onClick:()=>ee(z)});return((we=l.item)==null?void 0:we.call(l,{item:z,index:j,props:xe}))??r(be,xe,{prepend:me=>{let{isSelected:he}=me;return r(Z,null,[e.multiple&&!e.hideSelected?r(tl,{key:z.value,modelValue:he,ripple:!1,tabindex:"-1"},null):void 0,z.props.prependIcon&&r(ve,{icon:z.props.prependIcon},null)])},title:()=>{var me,he;return s.value?z.title:Xl(z.title,(me=w(z))==null?void 0:me.title,((he=F.value)==null?void 0:he.length)??0)}})}}),(D=l["append-item"])==null?void 0:D.call(l)]}})]}),h.value.map((P,E)=>{var z;function D(j){j.stopPropagation(),j.preventDefault(),ee(P)}const J={"onClick:close":D,onMousedown(j){j.preventDefault(),j.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return r("div",{key:P.value,class:["v-autocomplete__selection",E===t.value&&["v-autocomplete__selection--selected",H.value]],style:E===t.value?B.value:{}},[o?l.chip?r(je,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:P.title}}},{default:()=>{var j;return[(j=l.chip)==null?void 0:j.call(l,{item:P,index:E,props:J})]}}):r(Xe,W({key:"chip",closable:e.closableChips,size:"small",text:P.title,disabled:P.props.disabled},J),null):((z=l.selection)==null?void 0:z.call(l,{item:P,index:E}))??r("span",{class:"v-autocomplete__selection-text"},[P.title,e.multiple&&E<h.value.length-1&&r("span",{class:"v-autocomplete__selection-comma"},[Ge(",")])])])})]),"append-inner":function(){var J;for(var P=arguments.length,E=new Array(P),D=0;D<P;D++)E[D]=arguments[D];return r(Z,null,[(J=l["append-inner"])==null?void 0:J.call(l,...E),e.menuIcon?r(ve,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:L,onClick:Pl,"aria-label":n(k.value),title:n(k.value)},null):void 0])}})}),qe({isFocused:d,isPristine:s,menu:m,search:F,filteredItems:I,select:ee},i)}}),dt=Object.assign({name:"AppAutocomplete",inheritAttrs:!1},{__name:"AppAutocomplete",setup(e){const c=y(()=>{const n=Fe(),i=n.id||n.label;return i?`app-autocomplete-${i}-${Math.random().toString(36).slice(2,7)}`:void 0}),l=y(()=>Fe().label);return(n,i)=>(_e(),Fl("div",{class:Bl(["app-autocomplete flex-grow-1",n.$attrs.class])},[ue(l)?(_e(),_l(Be,{key:0,for:ue(c),class:"mb-1 text-body-2 text-high-emphasis",text:ue(l)},null,8,["for","text"])):Al("",!0),r(et,Ae(Te({...n.$attrs,class:null,label:void 0,id:ue(c),variant:"outlined",menuProps:{contentClass:["app-inner-list","app-autocomplete__content","v-autocomplete__content"]}})),Tl({_:2},[Dl(n.$slots,(d,s)=>({name:s,fn:Ml(u=>[Rl(n.$slots,s,Ae(Te(u||{})))])}))]),1040)],2))}});export{tl as V,dt as _,st as a,Ql as b,$l as m,Yl as u};

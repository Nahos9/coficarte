{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});const{parseSetCookie}=require(\"./parse\");const{stringify}=require(\"./util\");const{webidl}=require(\"../fetch/webidl\");const{Headers}=require(\"../fetch/headers\");function getCookies(headers){webidl.argumentLengthCheck(arguments,1,\"getCookies\");webidl.brandCheck(headers,Headers,{strict:false});const cookie=headers.get(\"cookie\");const out={};if(!cookie){return out}for(const piece of cookie.split(\";\")){const[name,...value]=piece.split(\"=\");out[name.trim()]=value.join(\"=\")}return out}__name(getCookies,\"getCookies\");function deleteCookie(headers,name,attributes){webidl.brandCheck(headers,Headers,{strict:false});const prefix=\"deleteCookie\";webidl.argumentLengthCheck(arguments,2,prefix);name=webidl.converters.DOMString(name,prefix,\"name\");attributes=webidl.converters.DeleteCookieAttributes(attributes);setCookie(headers,{name,value:\"\",expires:new Date(0),...attributes})}__name(deleteCookie,\"deleteCookie\");function getSetCookies(headers){webidl.argumentLengthCheck(arguments,1,\"getSetCookies\");webidl.brandCheck(headers,Headers,{strict:false});const cookies=headers.getSetCookie();if(!cookies){return[]}return cookies.map(pair=>parseSetCookie(pair))}__name(getSetCookies,\"getSetCookies\");function setCookie(headers,cookie){webidl.argumentLengthCheck(arguments,2,\"setCookie\");webidl.brandCheck(headers,Headers,{strict:false});cookie=webidl.converters.Cookie(cookie);const str=stringify(cookie);if(str){headers.append(\"Set-Cookie\",str)}}__name(setCookie,\"setCookie\");webidl.converters.DeleteCookieAttributes=webidl.dictionaryConverter([{converter:webidl.nullableConverter(webidl.converters.DOMString),key:\"path\",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.DOMString),key:\"domain\",defaultValue:()=>null}]);webidl.converters.Cookie=webidl.dictionaryConverter([{converter:webidl.converters.DOMString,key:\"name\"},{converter:webidl.converters.DOMString,key:\"value\"},{converter:webidl.nullableConverter(value=>{if(typeof value===\"number\"){return webidl.converters[\"unsigned long long\"](value)}return new Date(value)}),key:\"expires\",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters[\"long long\"]),key:\"maxAge\",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.DOMString),key:\"domain\",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.DOMString),key:\"path\",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.boolean),key:\"secure\",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.boolean),key:\"httpOnly\",defaultValue:()=>null},{converter:webidl.converters.USVString,key:\"sameSite\",allowedValues:[\"Strict\",\"Lax\",\"None\"]},{converter:webidl.sequenceConverter(webidl.converters.DOMString),key:\"unparsed\",defaultValue:()=>new Array(0)}]);module.exports={getCookies,deleteCookie,getSetCookies,setCookie};\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"sources":["/home/creditga/CofiCarte/node_modules/.pnpm/undici@6.21.0/node_modules/undici/lib/web/cookies/index.js"],"sourcesContent":["'use strict'\n\nconst { parseSetCookie } = require('./parse')\nconst { stringify } = require('./util')\nconst { webidl } = require('../fetch/webidl')\nconst { Headers } = require('../fetch/headers')\n\n/**\n * @typedef {Object} Cookie\n * @property {string} name\n * @property {string} value\n * @property {Date|number|undefined} expires\n * @property {number|undefined} maxAge\n * @property {string|undefined} domain\n * @property {string|undefined} path\n * @property {boolean|undefined} secure\n * @property {boolean|undefined} httpOnly\n * @property {'Strict'|'Lax'|'None'} sameSite\n * @property {string[]} unparsed\n */\n\n/**\n * @param {Headers} headers\n * @returns {Record<string, string>}\n */\nfunction getCookies (headers) {\n  webidl.argumentLengthCheck(arguments, 1, 'getCookies')\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const cookie = headers.get('cookie')\n  const out = {}\n\n  if (!cookie) {\n    return out\n  }\n\n  for (const piece of cookie.split(';')) {\n    const [name, ...value] = piece.split('=')\n\n    out[name.trim()] = value.join('=')\n  }\n\n  return out\n}\n\n/**\n * @param {Headers} headers\n * @param {string} name\n * @param {{ path?: string, domain?: string }|undefined} attributes\n * @returns {void}\n */\nfunction deleteCookie (headers, name, attributes) {\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const prefix = 'deleteCookie'\n  webidl.argumentLengthCheck(arguments, 2, prefix)\n\n  name = webidl.converters.DOMString(name, prefix, 'name')\n  attributes = webidl.converters.DeleteCookieAttributes(attributes)\n\n  // Matches behavior of\n  // https://github.com/denoland/deno_std/blob/63827b16330b82489a04614027c33b7904e08be5/http/cookie.ts#L278\n  setCookie(headers, {\n    name,\n    value: '',\n    expires: new Date(0),\n    ...attributes\n  })\n}\n\n/**\n * @param {Headers} headers\n * @returns {Cookie[]}\n */\nfunction getSetCookies (headers) {\n  webidl.argumentLengthCheck(arguments, 1, 'getSetCookies')\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const cookies = headers.getSetCookie()\n\n  if (!cookies) {\n    return []\n  }\n\n  return cookies.map((pair) => parseSetCookie(pair))\n}\n\n/**\n * @param {Headers} headers\n * @param {Cookie} cookie\n * @returns {void}\n */\nfunction setCookie (headers, cookie) {\n  webidl.argumentLengthCheck(arguments, 2, 'setCookie')\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  cookie = webidl.converters.Cookie(cookie)\n\n  const str = stringify(cookie)\n\n  if (str) {\n    headers.append('Set-Cookie', str)\n  }\n}\n\nwebidl.converters.DeleteCookieAttributes = webidl.dictionaryConverter([\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'path',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'domain',\n    defaultValue: () => null\n  }\n])\n\nwebidl.converters.Cookie = webidl.dictionaryConverter([\n  {\n    converter: webidl.converters.DOMString,\n    key: 'name'\n  },\n  {\n    converter: webidl.converters.DOMString,\n    key: 'value'\n  },\n  {\n    converter: webidl.nullableConverter((value) => {\n      if (typeof value === 'number') {\n        return webidl.converters['unsigned long long'](value)\n      }\n\n      return new Date(value)\n    }),\n    key: 'expires',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters['long long']),\n    key: 'maxAge',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'domain',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'path',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.boolean),\n    key: 'secure',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.boolean),\n    key: 'httpOnly',\n    defaultValue: () => null\n  },\n  {\n    converter: webidl.converters.USVString,\n    key: 'sameSite',\n    allowedValues: ['Strict', 'Lax', 'None']\n  },\n  {\n    converter: webidl.sequenceConverter(webidl.converters.DOMString),\n    key: 'unparsed',\n    defaultValue: () => new Array(0)\n  }\n])\n\nmodule.exports = {\n  getCookies,\n  deleteCookie,\n  getSetCookies,\n  setCookie\n}\n"]}}
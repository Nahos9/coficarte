{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __extends=exports&&exports.__extends||function(){var extendStatics=__name(function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)if(Object.prototype.hasOwnProperty.call(b2,p))d2[p]=b2[p]};return extendStatics(d,b)},\"extendStatics\");return function(d,b){if(typeof b!==\"function\"&&b!==null)throw new TypeError(\"Class extends value \"+String(b)+\" is not a constructor or null\");extendStatics(d,b);function __(){this.constructor=d}__name(__,\"__\");d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __importDefault=exports&&exports.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod}};Object.defineProperty(exports,\"__esModule\",{value:true});exports.getEncoding=exports.DecodeStream=exports.decodeBuffer=void 0;var node_stream_1=require(\"node:stream\");var iconv_lite_1=__importDefault(require(\"iconv-lite\"));var sniffer_js_1=require(\"./sniffer.js\");function decodeBuffer(buffer,options){if(options===void 0){options={}}return iconv_lite_1.default.decode(buffer,(0,sniffer_js_1.getEncoding)(buffer,options))}__name(decodeBuffer,\"decodeBuffer\");exports.decodeBuffer=decodeBuffer;var DecodeStream=function(_super){__extends(DecodeStream2,_super);function DecodeStream2(options){var _a;var _this=_super.call(this,{decodeStrings:false,encoding:\"utf-8\"})||this;_this.buffers=[];_this.iconv=null;_this.readBytes=0;_this.sniffer=new sniffer_js_1.Sniffer(options);_this.maxBytes=(_a=options===null||options===void 0?void 0:options.maxBytes)!==null&&_a!==void 0?_a:1024;return _this}__name(DecodeStream2,\"DecodeStream\");DecodeStream2.prototype._transform=function(chunk,_encoding,callback){if(this.readBytes<this.maxBytes){this.sniffer.write(chunk);this.readBytes+=chunk.length;if(this.readBytes<this.maxBytes){this.buffers.push(chunk);callback();return}}this.getIconvStream().write(chunk,callback)};DecodeStream2.prototype.getIconvStream=function(){var _this=this;if(this.iconv){return this.iconv}var stream=iconv_lite_1.default.decodeStream(this.sniffer.encoding);stream.on(\"data\",function(chunk){return _this.push(chunk,\"utf-8\")});stream.on(\"end\",function(){return _this.push(null)});this.iconv=stream;for(var _i=0,_a=this.buffers;_i<_a.length;_i++){var buffer=_a[_i];stream.write(buffer)}this.buffers.length=0;return stream};DecodeStream2.prototype._flush=function(callback){this.getIconvStream().end(callback)};return DecodeStream2}(node_stream_1.Transform);exports.DecodeStream=DecodeStream;var sniffer_js_2=require(\"./sniffer.js\");Object.defineProperty(exports,\"getEncoding\",{enumerable:true,get:function(){return sniffer_js_2.getEncoding}});\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":["d","b","DecodeStream"],"sources":["/home/creditga/CofiCarte/node_modules/.pnpm/encoding-sniffer@0.2.0/node_modules/encoding-sniffer/dist/commonjs/index.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEncoding = exports.DecodeStream = exports.decodeBuffer = void 0;\nvar node_stream_1 = require(\"node:stream\");\nvar iconv_lite_1 = __importDefault(require(\"iconv-lite\"));\nvar sniffer_js_1 = require(\"./sniffer.js\");\n/**\n * Sniff the encoding of a buffer, then decode it.\n *\n * @param buffer Buffer to be decoded\n * @param options Options for the sniffer\n * @returns The decoded buffer\n */\nfunction decodeBuffer(buffer, options) {\n    if (options === void 0) { options = {}; }\n    return iconv_lite_1.default.decode(buffer, (0, sniffer_js_1.getEncoding)(buffer, options));\n}\nexports.decodeBuffer = decodeBuffer;\n/**\n * Decodes a stream of buffers into a stream of strings.\n *\n * Reads the first 1024 bytes and passes them to the sniffer. Once an encoding\n * has been determined, it passes all data to iconv-lite's stream and outputs\n * the results.\n */\nvar DecodeStream = /** @class */ (function (_super) {\n    __extends(DecodeStream, _super);\n    function DecodeStream(options) {\n        var _a;\n        var _this = _super.call(this, { decodeStrings: false, encoding: \"utf-8\" }) || this;\n        _this.buffers = [];\n        /** The iconv decode stream. If it is set, we have read more than `options.maxBytes` bytes. */\n        _this.iconv = null;\n        _this.readBytes = 0;\n        _this.sniffer = new sniffer_js_1.Sniffer(options);\n        _this.maxBytes = (_a = options === null || options === void 0 ? void 0 : options.maxBytes) !== null && _a !== void 0 ? _a : 1024;\n        return _this;\n    }\n    DecodeStream.prototype._transform = function (chunk, _encoding, callback) {\n        if (this.readBytes < this.maxBytes) {\n            this.sniffer.write(chunk);\n            this.readBytes += chunk.length;\n            if (this.readBytes < this.maxBytes) {\n                this.buffers.push(chunk);\n                callback();\n                return;\n            }\n        }\n        this.getIconvStream().write(chunk, callback);\n    };\n    DecodeStream.prototype.getIconvStream = function () {\n        var _this = this;\n        if (this.iconv) {\n            return this.iconv;\n        }\n        var stream = iconv_lite_1.default.decodeStream(this.sniffer.encoding);\n        stream.on(\"data\", function (chunk) { return _this.push(chunk, \"utf-8\"); });\n        stream.on(\"end\", function () { return _this.push(null); });\n        this.iconv = stream;\n        for (var _i = 0, _a = this.buffers; _i < _a.length; _i++) {\n            var buffer = _a[_i];\n            stream.write(buffer);\n        }\n        this.buffers.length = 0;\n        return stream;\n    };\n    DecodeStream.prototype._flush = function (callback) {\n        this.getIconvStream().end(callback);\n    };\n    return DecodeStream;\n}(node_stream_1.Transform));\nexports.DecodeStream = DecodeStream;\nvar sniffer_js_2 = require(\"./sniffer.js\");\nObject.defineProperty(exports, \"getEncoding\", { enumerable: true, get: function () { return sniffer_js_2.getEncoding; } });\n//# sourceMappingURL=index.js.map"]}}